# 서브클래싱과 서브타이핑
- 상속의 용도
  - 1) 타입 계층을 구현하는 것 : 부모 클래스는 자식 클래스의 일반화 이고 자식 클래스는 부모 클래스의 특수화  
  - 2) 코드 재사용 : 간단하게 코드 재사용할 수 있으나 강하게 결합되기 때문에 변경하기 어려운 코드를 얻게 될 수 있음

- 상속을 사용하는 일차적인 목표는 타입 계층 구현을 하는 것 (유연한 설계)
- 타입 사이의 관계를 고려하지 않은 채 단순히 코드를 재사용하기 위해 상속을 사용해서는 안됨

- 타입 계층이란 무엇인가?

### 객체지향 프로그래밍과 객체기반 프로그래밍
```
객체기반 프로그래밍 : 상태와 행동을 캡슐화한 객체를 조합해서 프로그램을 구성하는 방식
객체지향 프로그래밍 : 객체기반 프로그래밍의 한 종류. 객체기반 프로그래밍과 차이점은 상속과 다형성을 지원한다는 점
```

# 01 타입
- 개념 관점의 타입과 프로그래밍 언어 관점의 타입

## 개념 관점의 타입
- 개념 관점에서 타입이란 우리가 인지하는 세상의 사물의 종류를 의미
- 어떤 대상의 타입으로 분류될 때 그 대상을 타입의 인스턴스라고 부름
  - 일반적으로 타입의 인스턴스를 객체라고 부름

- 타입의 구성 요소
  - 심볼 : 타입에 이름을 붙인 것이다. 앞에서 '프로그래밍 언어'가 타입의 심볼에 해당
  - 내연 : 타입의 정의로서 타입에 속하는 객체들이 가지는 공통적인 속성이나 행동을 가리킨다.
  - 외연 : 타입에 속하는 객체들의 집합. '프로그래밍 언어' 타입의 경우에는 자바, 루비, 자바스크립트, C가 속한 집합이 외연을 구성한다. 

- 기타) 클래스, 객체, 인스턴스 차이
  - https://gmlwjd9405.github.io/2018/09/17/class-object-instance.html 

## 프로그래밍 언어 관점의 타입
- 프로그래밍 언어 관점에서 타입은 연속적인 비트에 의미와 제약을 부여하기 위해 사용

- 두 가지 목적
  - 1) 타입에 수행될 수 있는 유효한 오퍼레이션의 집합을 정의한다 
    - ex) 자바에서 '+' 연산자는 원시형 숫자 타입이나 문자열 타입의 객체에서 사용할 수 있지만 다른 클래스의 인스턴스에 대해서는 사용할 수 없음
    - 모든 객체지향 언어들은 객체의 타입에 따라 적용 가능한 연산자의 종류를 제한함으로써 프로그램저의 실수를 막아줌
  - 2) 타입에 수행되는 오퍼레이션에 대해 미리 약속된 문맥을 제공한다
    - ex) a +b 라는 연산에서 타입이 int라면 두 수를 더함. String 이라면 두 문자열을 하나로 합침
    - 객체를 생성하는 방법에 대한 문맥을 결정하는 것은 바로 객체의 타입

- 정리
  - 타입은 적용 가능한 오퍼레이션의 종류와 의미를 정의함으로써 코드의 의미를 명확하게 전달하고 개발자의 실수를 방자히가 위해 사용 

## 객체지향 패러다임 관점의 타입
- 타입의 두 가지 관점
  - 1) 개념 관점에서 타입이란 공통의 특징을 공유하는 대상들의 분류
  - 2) 프로그래밍 언어 관점에서 타입이란 동일한 오퍼레이션을 적용할 수 있는 인스턴스들이 집합

- 객체의 타입이란 객체가 수신할 수 있는 메시지의 종류를 정의하하는 것
- 객체지향 프로그래밍에서 타입을 정의하는 것은 객체의 퍼블릭 인터페이스를 정의하는 것과 동일

- 객체지향 프로그래밍 관점에서 타입정의
```
객체의 퍼블릭 인터페이스가 객체의 타입을 결정한다. 따라서 동일한 퍼블릭 인터페이스를 제공하는 객체들은 동일한 타입으로 분류된다.
```

- 객체를 바라볼 때는 항상 객체가 외부에 제공하는 행동에 초점을 맞춰야 함. 객체의 타입을 결정하는 것은 내부 속성이 아니라 객체가 외부에 제공하는 행동이라는 사실

# 02 타입 계층
## 타입 사이의 포함관계
- 타입 안에 포함된 객체들을 좀 더 상세한 기준으로 묶어 새로운 타입을 정의하면 이 새로운 타입은 자연스럽게 기존 타입의 부분집합이 됨

- '프로그래밍 언어' 타입의 인스턴스 집합
  - ![스크린샷 2021-04-17 오후 10 35 19](https://user-images.githubusercontent.com/7076334/115115045-36b6e500-9fcd-11eb-9dd7-6bd3ef7f9fc6.png)

- 위의 집합을 좀 더 상세한 기준에 따라 분류
- 타입은 집합의 관점에서 더 세분화된 타입의 집합을 부분집합으로 포함
  - ![스크린샷 2021-04-17 오후 10 33 29](https://user-images.githubusercontent.com/7076334/115114983-f5bed080-9fcc-11eb-93b8-3b11d704f7ca.png)

- 타입의 특성
  - 동일한 인스턴스가 하나 이상의 타입으로 분류되는 것도 가능
  - 다른 타입을 포함하는 타입은 포함되는 타입보다 좀 더 일반화된 의미를 표현할 수 있음
  - 다른 타입을 포함하는 타입은 포함되는 타입보다 더 많은 인스터를 가짐 
    - 다시 말해 포함하는 타입은 외연 관점에서는 더 크고 내연 관점에서는 더 **일반적임**
    - 포함되는 타입은 외연 관점에서 더 작고 내연 관점에서는 더 **특수함**

- 일반화/특수화 관계로 연결된 타입 계층
  - ![스크린샷 2021-04-17 오후 10 44 53](https://user-images.githubusercontent.com/7076334/115115279-8ba72b00-9fce-11eb-9b01-941f5cbdeeff.png)
  - 타입 계층 표현 시, 더 일반적인 타입을 위쪽에, 더 특수한 타입을 아래쪽에 배치
  - 더 일반적인 타입을 **슈퍼타입**
  - 더 특수한 타입을 **서브타입**

- 일반화와 특수화의 정의
```
일반화는 다른 타입을 오나전히 포함하거나 내포하는 타입을 식별하는 행위 또는 그 행위의 결과를 가리킨다.
특수화는 다른 타입 안에 전체적으로 포함되거나 완전히 내포되는 타입을 식별하는 행위 또는 그 행위의 결과를 가리킨다.
```

- 슈퍼타입과 서브타입 특징
  - 슈퍼타입
    - 집합이 다른 집합의 모든 멤버를 포함
    - 타입 정의가 다른 타입보다 좀 더 일반적 
  - 서브타입 
    - 집합에 포함되는 인스턴스들이 더 큰 집합에 포함됨
    - 타입 정의가 다른 타입보다 좀 더 구체적

## 객체지향 프로그래밍과 타입 계층
- 객체의 타입을 결정하는 것은 퍼블릭 인터페이스
- 퍼블릭 인터페이스 관점의 슈퍼타입/서브타입
  - 슈퍼타입이란 서브타입이 정의한 퍼블릭 인터페이스를 일반화시켜 상대적으로 범용적이고 넓은 의미로 정의한 것
  - 서브타입이란 슈퍼타입이 정의한 퍼블릭 인터페이스를 특수화시켜 상대적으로 구체적이고 좁은 의미로 정의한 것

- 강조
  - 서브타입의 인스턴스는 슈퍼타입의 인스턴스로 간주될 수 있음
  - 이 사실이 이번 장의 핵심이자 상속과 다형성의 관계를 이해하기 위한 출발점 

# 03 서브클래싱과 서브타이핑





