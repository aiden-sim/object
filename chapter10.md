# 상속과 코드 재사용
- 객체지향에서 클래스를 재사용하는 전통적인 방법은 새로운 클래스 추가
- 재사용 관점에서 상속이란 클래스 안에 정의된 인스턴스 변수와 메서드를 자동으로 새로운 클래스에 추가하는 구현 기법
- 새로운 클래스의 인스턴스 안에 기존 클래스의 인스턴스를 포함시키는 방법으로 흔희 합성이라고 부름

# 01 상속과 중복 코드

## DRY 원칙
- 중복 코드는 변경을 방해함
- 새로운 코드를 추가하고 나면 언젠가는 변경됨
- 중복 코드가 가지는 가장 큰 문제는 코드를 수정하는 데 필요한 노력을 몇 배로 증가 시킴
- 중복 여부를 판단하는 기준은 변경
  - 요구사항이 변경됐을 때 두 코드를 함께 수정해야 한다면 중복 코드
  - 함께 수정할 필요가 없다면 중복 아님
- 중복 여부를 결정하는 기준은 코드가 변경에 반응하는 방식임

- DRY는 '반복하지 마라'라는 뜻의 Don't Repeat Yourself의 첫 글자를 모아 만든 용어로 동일한 지식을 중복하지 말라는 것
- DRY 원칙
  - 한 번, 단 한번 원칙 or 단일 지점 제어 원칙 이라고 부름

## 중복과 변경
### 중복 코드 살펴보기
```
요구 조건
한 달에 한 번씩 가입자별로 전화 요금을 계산하는 간단한 애플리케이션을 개발.
전화 요금 계산 규칙은 통화 시간을 단위 시간당 요금으로 나눠 주면 된다.
```

- P310
  - 정보 전문가 Phone에서 요금 계산 책임 할당

- P313
```
요구 조건
기존 코드에 '심야 할인 요금제' 라는 새로운 요금 방식 추가
```
  - Phone 코드를 복사해서 NightlyDiscountPhone 이라는 새로운 클래스 추가
  - 짧은 시간 내에 요구 사항을 구현할 수 있었지만 구현 시간을 절약한 대가로 지불해야 하는 비용은 예상보다 큼
    - Phone과 NightlyDiscountPhone 사이에 중복 코드가 존재

### 중복 코드 수정하기
- P314
```
요구 조건
통화 요금에 부과할 세금을 계산
```
  - 통화 요금을 계산하는 로직은 Phone과 NightlyDiscountPhone 양쪽 모두에 구현돼 있어서 세금을 추가하려면 두 클래스 함께 수정
  - Phone은 수정했지만 NightlyDiscountPhone 은 수정되지 않았다면?
    - 심야 할인 요금제의 모든 가입자에게 세금이 부과되지 않는 장애 발생
  - 더 큰 문제는 중복 코드는 서로 다르게 수정하기가 쉽다.
  - 중복 코드는 새로운 중복 코드를 부른다.
  - 중복 코드가 늘어날수록 애플리케이션은 변경에 취약해지고 버그가 발생할 가능성이 높아짐
  - 결론 : 민첩한 변경을 위해 중복 코드를 추가하는 대신 제거

### 타입 코드 사용하기
- P316
```
리팩토링
클래스를 하나로 합치고 타입 코드를 추가
```












```

```
